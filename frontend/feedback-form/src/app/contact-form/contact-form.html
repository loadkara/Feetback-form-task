@if (!result) {
  <div class="form-container">
    <h2>Напишите нам</h2>
    <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="name" class="form-label">Ваше имя:</label>
            <input 
                type="text" 
                id="name" 
                name="name" 
                placeholder="Введите имя"
                class="form-input"
                formControlName="name">
        </div>
        <div class="form-group">
            <label for="email" class="form-label">Ваш Email:</label>
            <input 
                type="email" 
                id="email" 
                name="email" 
                placeholder="Введите email"
                class="form-input"
                formControlName="email">
        </div>
        <div class="form-group">
            <label for="phone" class="form-label">Ваш телефон:</label>
            <input 
                type="tel" 
                id="phone" 
                name="phone" 
                placeholder="Введите телефон"
                class="form-input"
                formControlName="phone">
        </div>
        <div class="form-group">
            <label for="topic" class="form-label">Тема:</label>
            <select 
                id="topic" 
                name="topic" 
                class="form-select"
                formControlName="topicId">
                    <option value="">Выберите тему</option>
                    <option value="1">Техподдержка</option>
                    <option value="2">Продажи</option>
                    <option value="3">Другое</option>
            </select>
        </div>
        <div class="form-group">
            <label for="message" class="form-label">Ваше сообщение:</label>
            <textarea 
                id="message" 
                name="message" 
                rows="5" 
                placeholder="Введите сообщение"
                class="form-textarea"
                formControlName="messageText">
            </textarea>
        </div>
        <div class="form-group">
            <label for="captcha" class="form-label">Цифры:</label>
            <div class="captcha-box">
                <input 
                    type="text" 
                    id="captcha" 
                    name="captcha" 
                    placeholder="Код с картинки"
                    class="form-input"
                    formControlName="captcha">
                <img 
                    src="https://intsystem.org/wp-content/uploads/2013/08/kcaptcha_1_1.png"
                    alt="CAPTCHA" 
                    class="captcha-image">
            </div>
        </div>
        <div class="form-button">
            <button type="submit">Отправить письмо!</button>
        </div>
    </form>
  </div>
}

@if (result) {
  <div class="success-message">
    <h3>Сообщение успешно отправлено!</h3>
    <p><strong>Имя:</strong> {{ result.contact.name }}</p>
    <p><strong>Email:</strong> {{ result.contact.email }}</p>
    <p><strong>Телефон:</strong> {{ result.contact.phone }}</p>
    <p><strong>Тема:</strong> {{ getTopicName(result.topicId) }}</p>
    <p><strong>Сообщение:</strong> {{ result.messageText }}</p>
    <p><strong>Дата:</strong> {{ result.createdAt | date:'dd.MM.yyyy HH:mm' }}</p>
  </div>
}